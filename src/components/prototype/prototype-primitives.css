@layer components {
  /*
    Prototype primitives:
    - Centralize palette via CSS custom properties (backed by Tailwind theme tokens)
    - Provide base panel styling for sidebar/stage
  */

  .prototype-root {
    color-scheme: dark;

    --proto-panel-bg: rgb(from theme(colors.panel.bg) r g b / 0.55);
    --proto-panel-surface: rgb(from theme(colors.panel.surface) r g b / 0.3);
    --proto-panel-surface-hover: rgb(from theme(colors.panel.surface) r g b / 0.42);

    --proto-border: rgb(255 255 255 / 0.06);
    --proto-border-strong: rgb(255 255 255 / 0.1);

    --proto-shadow: 0 16px 50px rgb(from theme(colors.panel.bg) r g b / 0.45);

    --proto-focus: rgb(from theme(colors.accent.light) r g b / 0.55);
    --proto-accent-border: rgb(from theme(colors.accent.light) r g b / 0.28);

    --proto-room-fill: rgb(from theme(colors.panel.card) r g b / 0.85);
    --proto-room-title: rgb(from theme(colors.text.primary) r g b / 0.9);
    --proto-room-subtext: rgb(from theme(colors.text.secondary) r g b / 0.95);
    --proto-accent: rgb(from theme(colors.accent.DEFAULT) r g b / 0.85);

    color: theme(colors.text.primary);
  }

  .prototype-shell-clamp {
    max-height: calc(100vh - 16px);
    max-width: calc(100vw - 16px);
  }

  .prototype-glows {
    background:
      radial-gradient(
        1000px 520px at 50% 0%,
        rgb(from theme(colors.accent.DEFAULT) r g b / 0.22),
        transparent 62%
      ),
      radial-gradient(
        900px 520px at 12% 12%,
        rgb(from theme(colors.accent.light) r g b / 0.1),
        transparent 58%
      ),
      radial-gradient(
        900px 520px at 86% 18%,
        rgb(from theme(colors.accent.DEFAULT) r g b / 0.08),
        transparent 60%
      );
  }

  .prototype-vignette {
    background: radial-gradient(
      1200px 680px at 50% 40%,
      transparent 40%,
      rgb(from theme(colors.panel.bg) r g b / 0.95) 85%
    );
  }

  .proto-panel {
    border-radius: 18px;
    background: var(--proto-panel-bg);
    border: 1px solid var(--proto-border);
    backdrop-filter: blur(10px);
    box-shadow: var(--proto-shadow);
    min-height: 0;
  }

  .proto-stage {
    position: relative;
    overflow: hidden;
  }
}
